<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 4: Enabling Business-to-Consumer Electronic Commerce</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-grad-start: #f5f3ff;
            --bg-grad-end: #ddd6fe;
            --bg-grad-mid-1: #f5f3ff;
            --bg-grad-mid-2: #ede9fe;
            --bg-grad-mid-3: #ddd6fe;
            --text-primary: #334155;
            --header-main: #4338ca;
            --header-sub: #4f46e5;
            --border-header: #a5b4fc;
            --nav-button-bg: #4f46e5;
            --nav-button-hover-bg: #4338ca;
            --info-card-border: #6366f1;
            --conclusion-border: #6366f1;
            --conclusion-text: #4338ca;
            --process-step-bg: #eef2ff;
            --process-step-border: #c7d2fe;
            --step-number-bg: #4f46e5;
            --inline-code-bg: #eef2ff;
            --inline-code-text: #312e81;
            --layer-box-bg: #e0e7ff;
            --layer-box-border: #c7d2fe;
            --flow-arrow-color: #6366f1;
            --scrollbar-thumb: #a78bfa;
            --scrollbar-track: #ddd6fe;
        }

        /* --- Base and Layout --- */
        html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; }
        body { display: flex; justify-content: center; align-items: center; background: linear-gradient(135deg, var(--bg-grad-start) 0%, var(--bg-grad-end) 100%); font-family: 'Poppins', sans-serif; color: var(--text-primary); transition: background 0.3s ease; }
        .presentation-container { position: relative; aspect-ratio: 16 / 9; width: 100%; height: auto; max-width: 100vw; max-height: 100vh; background-color: var(--bg-grad-start); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05); border-radius: 8px; display: flex; flex-direction: column; overflow: hidden; }
        @media (min-aspect-ratio: 16/9) { .presentation-container { width: auto; height: 100%; } }

        /* --- Slide Styling --- */
        .slide { flex-grow: 1; padding: clamp(1.8rem, 3.5vh, 2.8rem) clamp(2.2rem, 4.5vw, 4.0rem); padding-bottom: calc(clamp(1.8rem, 3.5vh, 2.8rem) + 55px); overflow-y: auto; display: none; flex-direction: column; line-height: 1.7; scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track); position: relative; background-color: var(--bg-grad-start); background-image: linear-gradient(160deg, var(--bg-grad-mid-1) 0%, var(--bg-grad-mid-2) 30%, var(--bg-grad-mid-3) 70%, var(--bg-grad-end) 100%); aspect-ratio: 16 / 9; height: 100%; box-sizing: border-box; transition: background-image 0.3s ease; }
        .slide::-webkit-scrollbar { width: 8px; }
        .slide::-webkit-scrollbar-track { background: var(--scrollbar-track); border-radius: 4px; }
        .slide::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb); border-radius: 4px; border: 2px solid var(--scrollbar-track); }
        .slide.active { display: flex; }

        /* --- Footer and Controls --- */
        .slide-footer { position: absolute; bottom: 0; left: 0; width: 100%; z-index: 15; background-color: rgba(248, 250, 252, 0.85); backdrop-filter: blur(4px); border-top: 1px solid rgba(209, 213, 219, 0.5); padding: clamp(0.2rem, 0.4vh, 0.3rem) clamp(1rem, 2vw, 2rem); display: flex; justify-content: space-between; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; pointer-events: none; }
        .slide-footer.show-footer { opacity: 1; visibility: visible; pointer-events: auto; }
        .footer-controls { display: flex; align-items: center; gap: clamp(0.6rem, 1.1vw, 1.1rem); }
        .nav-button, .options-button, .reveal-answer-btn { padding: clamp(0.25rem, 0.5vh, 0.4rem) clamp(0.9rem, 1.3vw, 1.3rem); background-color: var(--nav-button-bg); color: white; border-radius: 4px; text-decoration: none; font-size: clamp(0.8rem, 1.3vh, 0.9rem); font-weight: 500; transition: background-color 0.2s ease-in-out, opacity 0.2s ease-in-out, box-shadow 0.2s ease-in-out; border: none; cursor: pointer; line-height: 1.4; }
        .nav-button:hover:not(:disabled), .options-button:hover, .reveal-answer-btn:hover { background-color: var(--nav-button-hover-bg); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }
        .nav-button:disabled { background-color: #d1d5db; color: #6b7280; cursor: not-allowed; opacity: 0.8; box-shadow: none; }
        .options-button { background-color: #64748b; padding: clamp(0.25rem, 0.5vh, 0.4rem); line-height: 0; }
        .options-button:hover { background-color: #475569; }
        .options-button svg { width: clamp(1.0rem, 1.6vh, 1.2rem); height: clamp(1.0rem, 1.6vh, 1.2rem); fill: white; }

        /* --- Settings/Export Drawer Menu --- */
        #settingsDrawer { position: absolute; bottom: 0; left: 0; width: 100%; background-color: #ffffff; border-top: 1px solid #e2e8f0; box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1); padding: clamp(1rem, 2vh, 1.5rem) clamp(1.5rem, 3vw, 2rem); transform: translateY(100%); transition: transform 0.3s ease-in-out; z-index: 25; }
        #settingsDrawer.active { transform: translateY(0); }
        .drawer-section { margin-bottom: 1rem; }
        .drawer-section:last-child { margin-bottom: 0; }
        .drawer-section h3 { font-size: 1rem; font-weight: 600; color: #475569; margin-bottom: 0.75rem; text-align: center; }
        .drawer-buttons-container { display: flex; justify-content: center; align-items: center; gap: clamp(0.6rem, 1.1vw, 1.1rem); flex-wrap: wrap; }
        .drawer-button { padding: clamp(0.6rem, 1.1vh, 0.8rem) clamp(1.1rem, 1.6vw, 1.6rem); background-color: #16a34a; color: white; border: none; border-radius: 4px; font-size: clamp(0.95rem, 1.6vh, 1.05rem); font-weight: 500; cursor: pointer; transition: background-color 0.2s ease, opacity 0.2s ease; }
        .drawer-button:hover:not(:disabled) { background-color: #15803d; }
        .drawer-button:disabled { background-color: #9ca3af; cursor: not-allowed; opacity: 0.7; }
        .theme-button { border: 2px solid transparent; }
        .theme-button.active { border-color: var(--header-main); box-shadow: 0 0 0 2px var(--header-main); }

        /* --- Content Styling --- */

        .two-panel-wrapper {
            display: flex;
            width: 100%;
            height: 100%;
            align-items: stretch;
            gap: clamp(1rem, 2vw, 2rem);
        }
        .two-panel-wrapper.image-right {
            flex-direction: row-reverse;
        }
        .image-panel {
            flex: 0 0 33%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .image-panel img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }
        .text-panel {
            flex: 1 1 67%;
            overflow-y: auto;
            padding-right: 1rem; /* Add some padding for scrollbar */
        }


        .slide h1 { color: var(--header-main); font-size: clamp(2.5em, 4.0vw, 3.5em); font-weight: 700; margin-bottom: 1.4rem; padding-bottom: 0.6rem; line-height: 1.35; border-bottom: 3px solid var(--border-header); }
        .slide.session-title-slide h1 { font-size: clamp(3.2em, 4.8vw, 4.5em); border-bottom: none; margin-bottom: 1.2rem; color: var(--header-main); }
        .slide.session-title-slide h2 { font-size: clamp(1.7em, 2.8vw, 2.5em); font-weight: 400; margin-bottom: 1.0rem; color: var(--header-sub); }
        .slide.session-title-slide .slide-content-wrapper { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100%; }
        .slide h2 { color: var(--header-sub); font-size: clamp(1.6em, 2.4vw, 2.2em); font-weight: 600; margin-top: 1.8rem; margin-bottom: 1rem; }
        .slide p, .slide ul, .slide ol { color: var(--text-primary); margin-bottom: 1rem; font-size: clamp(1.0em, 1.5vw, 1.3em); line-height: 1.8; }
        .slide ul, .slide ol { margin-left: 1.8rem; margin-bottom: 1rem; }
        .slide ul { list-style-type: disc; }
        .slide ol { list-style-type: decimal; }
        .slide li { margin-bottom: 0.8rem; }
        .slide pre { background-color: #1e293b; color: #f8fafc; border: 1px solid #334155; padding: 0.9rem; border-radius: 6px; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; font-family: 'Roboto Mono', 'Courier New', Courier, monospace; font-size: clamp(0.85em, 1.1vw, 1.0em); margin-top: 0.6rem; margin-bottom: 1.1rem; line-height: 1.5; }
        .slide code { font-family: 'Roboto Mono', 'Courier New', Courier, monospace; }
        .slide code.inline { background-color: var(--inline-code-bg); color: var(--inline-code-text); padding: 0.2em 0.5em; border-radius: 4px; font-size: 0.95em; white-space: normal; }
        .slide .conclusion { font-weight: 600; margin-top: 1.4rem; border-left: 4px solid var(--conclusion-border); padding-left: 0.9rem; color: var(--conclusion-text); font-size: clamp(1.0em, 1.5vw, 1.3em); }
        .info-card { background-color: #fff; border-radius: 8px; padding: clamp(0.9rem, 1.6vh, 1.3rem); box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 4px solid var(--info-card-border); margin-bottom: 0.9rem; }
        .comparison-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: clamp(1rem, 2vw, 1.5rem); margin-top: 1.2rem; }
        .comparison-card { background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: clamp(0.9rem, 1.6vh, 1.3rem); }
        .comparison-card h3 { font-weight: 600; color: var(--header-main); margin-bottom: 0.6rem; text-align: center; border-bottom: 2px solid var(--border-header); padding-bottom: 0.4rem; font-size: clamp(1.15em, 1.75vw, 1.55em); }
        .process-step { display: flex; align-items: center; margin-bottom: 0.9rem; background-color: var(--process-step-bg); padding: 0.7rem; border-radius: 6px; border: 1px solid var(--process-step-border); }
        .step-number { background-color: var(--step-number-bg); color: white; border-radius: 50%; width: clamp(26px, 3.2vh, 32px); height: clamp(26px, 3.2vh, 32px); display: inline-flex; justify-content: center; align-items: center; font-weight: 600; margin-right: 0.9rem; flex-shrink: 0; font-size: clamp(0.85em, 1.25vh, 0.95em); }
        .slide .highlight { color: #dc2626; font-weight: 700; }
        .slide .highlight-green { color: #16a34a; font-weight: 600; }
        .summary-list-check li::before { content: '✔'; margin-right: 0.8rem; color: #16a34a; }
        .ai-assist-prompt { background-color: #ecfdf5; border-left: 4px solid #10b981; padding: 0.8rem; margin-top: 1rem; border-radius: 4px; }
        .ai-assist-prompt strong { color: #047857; }
        .mermaid { background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem; margin-top: 1rem; display: flex; justify-content: center; align-items: center; min-height: 150px; }
        .answer-explanation { display: none; margin-top: 1rem; }

        /* --- STYLES FOR PRINTING (FIXED) --- */
        @media print {
            .slide-footer, #settingsDrawer, .options-button, .nav-button, .slide-counter, .reveal-answer-btn { display: none !important; }
            body { background: none !important; display: block !important; height: auto !important; overflow: visible !important; font-size: 10pt; }
            .presentation-container { width: 100% !important; height: auto !important; max-width: none !important; max-height: none !important; box-shadow: none !important; border-radius: 0 !important; overflow: visible !important; aspect-ratio: auto !important; background-color: transparent !important; }
            .slide { display: flex !important; flex-direction: column !important; width: 100% !important; height: 100vh !important; overflow: hidden !important; page-break-before: always !important; page-break-inside: avoid !important; padding: 0.5in !important; margin: 0 !important; border: none !important; box-shadow: none !important; aspect-ratio: auto !important; background-color: var(--bg-grad-start) !important; background-image: linear-gradient(160deg, var(--bg-grad-mid-1) 0%, var(--bg-grad-mid-2) 30%, var(--bg-grad-mid-3) 70%, var(--bg-grad-end) 100%) !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            .slide:first-child { page-break-before: auto !important; }
            .slide h1 { font-size: 18pt !important; }
            .slide h2 { font-size: 14pt !important; }
            .slide p, .slide ul, .slide ol, .slide li { font-size: 11pt !important; line-height: 1.4 !important; }
            .slide code.inline, .slide pre code { font-size: 10pt !important; }
            .slide pre { padding: 0.5rem !important; }
            .info-card, .comparison-card, .process-step, .ai-assist-prompt { background-color: #fff !important; border-color: #ccc !important; box-shadow: none !important; }
            .step-number { background-color: #ccc !important; color: #000 !important; }
            .comparison-grid { grid-template-columns: 1fr !important; }
            .mermaid { background-color: #f8fafc !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            .mermaid svg { max-width: 100%; height: auto; }
        }
        @page { size: landscape; margin: 0.5in; }
    </style>
</head>
<body>
    <div class="presentation-container">

        <!-- Slide 1: Title Slide -->
        <div id="slide-1" class="slide active session-title-slide">
            <div class="slide-content-wrapper">
                <h1>Enabling Business-to-Consumer Electronic Commerce</h1>
                <h2>Chapter 4</h2>
                <p class="instructor-info" style="margin-top: 2rem;">Instructor: N. Long Ha (PhD)</p>
                <p class="instructor-info" style="margin-top: 2rem;">University of Economics, Hue University</p>
            </div>
        </div>

        <!-- Slide 2: Learning Objectives -->
        <div id="slide-2" class="slide">
            <h1>Learning Objectives</h1>
            <ol>
                <li>Describe different approaches to competing in cyberspace and forms of e-government.</li>
                <li>Explain business-to-consumer (B2C) electronic commerce strategies.</li>
                <li>Understand the keys to successful e-commerce websites and internet marketing.</li>
                <li>Describe mobile, voice, consumer-to-consumer (C2C), and consumer-to-business (C2B) e-commerce.</li>
                <li>Understand how to conduct secure financial transactions and navigate legal issues in e-commerce.</li>
            </ol>
        </div>

        <!-- Slide 3: Chapter Preview -->
        <div id="slide-3" class="slide">
            <h1>Chapter Preview: The World of E-Commerce</h1>
            <p>This chapter explores how companies conduct business with customers online, a practice known as <strong>Electronic Commerce (EC)</strong>.</p>
            <p>With increasing digital density, e-commerce presents unprecedented opportunities for marketing and innovation, but also introduces significant challenges.</p>
            <div class="info-card">
                <p>As e-commerce represents a growing portion of all retail sales, understanding its principles is a powerful tool. E-commerce skills are in high demand, making this knowledge incredibly valuable for your career.</p>
            </div>
        </div>

        <!-- Slide 4: Opening Case: Taobao vs. JD.com -->
        <div id="slide-4" class="slide">
            <h1>Opening Case: E-Commerce Giants in China</h1>
            <p>While Amazon and eBay are household names in the West, China's e-commerce landscape is dominated by titans like Taobao and JD.com.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Taobao (Alibaba)</h3>
                    <p>A massive marketplace dominating consumer-to-consumer (C2C) sales, but also known for counterfeit goods. Its B2C platform, Tmall, hosts major international brands.</p>
                </div>
                <div class="comparison-card">
                    <h3>JD.com</h3>
                    <p>A fast-growing competitor focused on building trust by investing heavily in its own logistics and delivery network to ensure product quality and efficiency.</p>
                </div>
            </div>
            <p class="conclusion">The greatest barrier to online shopping in China remains <strong>trust</strong>—a key theme we will explore throughout this chapter.</p>
        </div>

        <!-- Slide 5: What is Electronic Commerce? -->
        <div id="slide-5" class="slide">
            <h1>What is Electronic Commerce (EC)?</h1>
            <p>Electronic Commerce is the exchange of goods, services, and money among firms, between firms and their customers, and between customers, supported by communication technologies like the internet.</p>
            <div class="info-card">
                <h3>More Than Just Buying</h3>
                <p>EC includes all activities leading up to a purchase (like marketing and research) as well as post-sale customer service.</p>
            </div>
            <p>In Q1 2020, U.S. online retail sales reached over <strong>$160 billion</strong>, accounting for nearly 12% of total retail sales and showing rapid growth.</p>
        </div>

        <!-- Slide 6: Types of Electronic Commerce -->
        <div id="slide-6" class="slide">
            <h1>Types of Electronic Commerce</h1>
            <p>E-commerce is categorized based on the nature of the transaction partners.</p>
            <div class="mermaid">
                graph TD
                    A[Business] -->|B2C| B(Consumer);
                    A -->|B2B| A;
                    B -->|C2C| B;
                    B -->|C2B| A;

                    style A fill:#dbeafe,stroke:#4f46e5,stroke-width:2px
                    style B fill:#e0f2fe,stroke:#0ea5e9,stroke-width:2px
            </div>
            <p class="conclusion">While B2C is the most visible, <strong>B2B e-commerce is by far the largest</strong> in terms of revenue.</p>
        </div>

        <!-- Slide 7: Deep Dive: EC Categories -->
        <div id="slide-7" class="slide">
            <h1>A Closer Look at EC Categories</h1>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>B2C (Business-to-Consumer)</h3>
                    <p>A person buys a book from Amazon.</p>
                </div>
                <div class="comparison-card">
                    <h3>B2B (Business-to-Business)</h3>
                    <p>A manufacturer buys raw materials from a supplier over the web.</p>
                </div>
                <div class="comparison-card">
                    <h3>C2C (Consumer-to-Consumer)</h3>
                    <p>A person buys a collectible from another person on eBay.</p>
                </div>
                 <div class="comparison-card">
                    <h3>C2B (Consumer-to-Business)</h3>
                    <p>A photographer sells their photos on Shutterstock.com.</p>
                </div>
            </div>
        </div>

        <!-- Slide 8: Knowledge Check 1 -->
        <div id="slide-8" class="slide">
            <h1>Knowledge Check</h1>
            <h2>A manufacturer conducting business over the web with its suppliers is an example of what type of e-commerce?</h2>
            <ul>
                <li>A) B2C</li>
                <li>B) C2C</li>
                <li>C) B2B</li>
                <li>D) C2B</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: C</h3>
                    <p>Business-to-business (B2B) e-commerce involves transactions between businesses. In this case, the manufacturer (a business) is transacting with its suppliers (other businesses).</p>
                </div>
            </div>
        </div>

        <!-- Slide 9: E-Government -->
        <div id="slide-9" class="slide">
            <h1>E-Government: Digital Public Services</h1>
            <p>E-government is the use of information systems to provide citizens, organizations, and other governmental agencies with information about public services and to allow for interaction with the government.</p>
            <h2>Three Main Categories:</h2>
            <ul>
                <li><strong>G2C (Government-to-Citizen):</strong> E-filing taxes, online ID applications, e-voting.</li>
                <li><strong>G2B (Government-to-Business):</strong> Online tax filing for businesses, e-procurement, online export licensing.</li>
                <li><strong>G2G (Government-to-Government):</strong> Electronic interactions between countries or different levels of government.</li>
            </ul>
        </div>

        <!-- Slide 10: Fintech: Disrupting the Financial Sector -->
        <div id="slide-10" class="slide">
            <div class="two-panel-wrapper">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-10.png" alt="Fintech concept visualization">
                </div>
                <div class="text-panel">
                    <h1>Fintech: Financial Technology</h1>
                    <p>Fintech refers to technologies that support, innovate, and disrupt activities in the financial sector. Often associated with startups, these companies use technology to offer specialized financial services.</p>
                    <div class="info-card">
                        <h3>Key Characteristics</h3>
                        <p>Unlike traditional banks that offer a wide range of services, fintech companies typically focus on doing <strong>one thing very well</strong>.</p>
                    </div>
                    <ul>
                        <li><strong>Examples:</strong> Kickstarter (crowdfunding), Square (mobile payments), N26 (online-only bank), Zelle (peer-to-peer payments).</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 11: B2C E-Commerce Strategies -->
        <div id="slide-11" class="slide">
            <h1>B2C E-Commerce Strategies</h1>
            <p>Companies must choose a strategy for how they will operate in the physical and virtual worlds.</p>
            <div class="mermaid">
                graph TD
                    A[Brick-and-Mortar] -- Physical Only --> B((Retail Store));
                    C[Click-Only] -- Virtual Only --> D((Website/App));
                    E[Click-and-Mortar] -- Both --> F((Retail Store + Website));

                    style A fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                    style C fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                    style E fill:#dbeafe,stroke:#4f46e5,stroke-width:2px
            </div>
            <p class="conclusion">The greatest impact of the e-commerce revolution has been on companies adopting the <strong>Click-and-Mortar</strong> strategy.</p>
        </div>

        <!-- Slide 12: Click-and-Mortar: The Best of Both Worlds? -->
        <div id="slide-12" class="slide">
            <h1>The Click-and-Mortar Strategy</h1>
            <p>These companies (also called "bricks-and-clicks") operate both physical stores and an online e-commerce presence. This allows them to leverage their existing brand and infrastructure.</p>
            <h2>Challenges:</h2>
            <ul>
                <li><strong>Increased Complexity:</strong> Managing inventory, pricing, and shipping across both physical and virtual channels can be difficult.</li>
                <li><strong>Customer Experience:</strong> Ensuring a seamless experience for customers who may interact with the brand across multiple channels.</li>
            </ul>
            <p>This has led to the evolution from multichannel to <strong>omni-channel retailing</strong>.</p>
        </div>

        <!-- Slide 13: Omni-Channel Retailing -->
        <div id="slide-13" class="slide">
            <div class="two-panel-wrapper image-right">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-13.png" alt="Omni-channel retailing concept">
                </div>
                <div class="text-panel">
                    <h1>From Multichannel to Omni-Channel</h1>
                    <div class="info-card">
                        <h3>Omni-Channel Retailing</h3>
                        <p>Providing seamless, simultaneous interactions using different channels, so the customer interacts with the <strong>brand as a whole</strong>, not a single channel.</p>
                    </div>
                    <h3>Example:</h3>
                    <p>A shopper in a Best Buy store scans a QR code on a product to get more information and read reviews on their mobile phone. They might then order it online for in-store pickup.</p>
                    <p>This strategy aims to create a unified and consistent customer experience.</p>
                </div>
            </div>
        </div>

        <!-- Slide 14: The Click-Only Strategy -->
        <div id="slide-14" class="slide">
            <h1>The Click-Only Strategy</h1>
            <p>Click-only companies, or "pure play" businesses, conduct business exclusively in cyberspace. They have no physical store locations.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Advantages</h3>
                    <ul>
                        <li>Can compete on price (lower overhead).</li>
                        <li>Can innovate rapidly with new technology.</li>
                        <li>Can reach a global customer base easily.</li>
                    </ul>
                </div>
                <div class="comparison-card">
                    <h3>Disadvantages</h3>
                    <ul>
                        <li>Difficult for customers to return products.</li>
                        <li>Customers may not be comfortable with online-only purchases (trust issues).</li>
                        <li>Can't provide a physical "touch and feel" experience.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 15: Knowledge Check 2 -->
        <div id="slide-15" class="slide">
            <h1>Knowledge Check</h1>
            <h2>A traditional retailer that has also added an e-commerce website is following which strategy?</h2>
            <ul>
                <li>A) Brick-and-mortar</li>
                <li>B) Click-only</li>
                <li>C) Click-and-mortar</li>
                <li>D) Omni-channel</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: C</h3>
                    <p>The click-and-mortar (or bricks-and-clicks) strategy describes companies that maintain their physical locations (brick/mortar) while also adding an e-commerce component (click) to their business activities.</p>
                </div>
            </div>
        </div>

        <!-- Slide 16: E-Tailing Opportunity: Disintermediation -->
        <div id="slide-16" class="slide">
            <h1>E-Tailing Opportunity: Disintermediation</h1>
            <p>The web has disrupted many traditional business models by allowing companies to cut out the "middleman" and reach customers directly.</p>
            <div class="info-card">
                <h3>Disintermediation</h3>
                <p>Cutting out the middleman (distributors, retailers) to reach customers more directly and efficiently.</p>
            </div>
            <div class="mermaid">
                graph TD
                    subgraph Traditional
                        direction LR
                        P[Producer] --> D[Distributor] --> R[Retailer] --> C[Customer]
                    end
                    subgraph Disintermediated
                        direction LR
                        P2[Producer] --> C2[Customer]
                    end
                style P fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                style D fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                style R fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                style C fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                style P2 fill:#dbeafe,stroke:#4f46e5,stroke-width:2px
                style C2 fill:#dbeafe,stroke:#4f46e5,stroke-width:2px
            </div>
        </div>

        <!-- Slide 17: E-Tailing Opportunity: The Long Tail -->
        <div id="slide-17" class="slide">
            <div class="two-panel-wrapper">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-17.png" alt="The Long Tail graph">
                </div>
                <div class="text-panel">
                    <h1>E-Tailing Opportunity: The Long Tail</h1>
                    <p>E-tailers are not limited by physical shelf space, allowing them to cater to niche markets in addition to selling mainstream products.</p>
                    <div class="info-card">
                        <h3>The Long Tail</h3>
                        <p>The concept of selling a large number of unique, niche items in small quantities—which collectively can be more profitable than only selling a few popular, high-volume items.</p>
                    </div>
                    <p><strong>Example:</strong> More than half of Amazon's book sales are for titles not carried by the average physical bookstore.</p>
                </div>
            </div>
        </div>

        <!-- Slide 18: E-Tailing Opportunity: Mass Customization -->
        <div id="slide-18" class="slide">
            <h1>E-Tailing Opportunity: Mass Customization</h1>
            <p>Web technologies allow firms to tailor their products and services to each customer's particular needs on a large scale.</p>
            <div class="info-card">
                <h3>Mass Customization</h3>
                <p>Assembling individualized products from standardized components, combining the flexibility of custom-made goods with the low cost of mass production.</p>
            </div>
            <ul>
                <li><strong>Examples:</strong> Customize your computer at Dell.com, design personalized shoes at Nike.com, or build your own car at MiniUSA.com.</li>
            </ul>
            <p class="conclusion">This increases the product's value for the customer, allowing the producer to charge a higher price and achieve higher profit margins.</p>
        </div>

        <!-- Slide 19: Other E-Tailing Business Models -->
        <div id="slide-19" class="slide">
            <h1>Other E-Tailing Business Models</h1>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Group Buying</h3>
                    <p>Sites like Groupon negotiate volume discounts with local businesses. If enough people buy, everyone gets a deal.</p>
                </div>
                <div class="comparison-card">
                    <h3>New Revenue Models</h3>
                    <p>Moving beyond simple sales to subscriptions, licensing, and transaction fees. Dynamic pricing models (like Priceline's "Name Your Own Price") also emerged.</p>
                </div>
                <div class="comparison-card">
                    <h3>Social Commerce</h3>
                    <p>Using social media to influence shopping behavior, from product discovery on Pinterest to customer reviews on Amazon.</p>
                </div>
            </div>
        </div>

        <!-- Slide 20: Knowledge Check 3 -->
        <div id="slide-20" class="slide">
            <h1>Knowledge Check</h1>
            <h2>The ability of e-tailers like Amazon to offer a vast selection of obscure books that traditional bookstores cannot is an example of:</h2>
            <ul>
                <li>A) Disintermediation</li>
                <li>B) The Long Tail</li>
                <li>C) Mass Customization</li>
                <li>D) Group Buying</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: B</h3>
                    <p>The Long Tail refers to the strategy of selling a large number of unique items with relatively small quantities sold of each. Because e-tailers don't have physical shelf-space limitations, they can profitably sell these niche products.</p>
                </div>
            </div>
        </div>

        <!-- Slide 21: Benefits and Drawbacks of E-Tailing -->
        <div id="slide-21" class="slide">
            <h1>Benefits and Drawbacks of E-Tailing</h1>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Benefits</h3>
                    <ul>
                        <li><strong>Product:</strong> Virtually unlimited selection.</li>
                        <li><strong>Place:</strong> Can conduct business anywhere, anytime, on a global scale.</li>
                        <li><strong>Price:</strong> Lower overhead can lead to lower prices for consumers.</li>
                    </ul>
                </div>
                <div class="comparison-card">
                    <h3>Drawbacks</h3>
                    <ul>
                        <li><strong>Trust:</strong> Customers may be hesitant to buy from unknown online businesses.</li>
                        <li><strong>Direct Experience:</strong> Inability to touch, feel, or try on products.</li>
                        <li><strong>Delivery & Returns:</strong> Delays in receiving products and complexities in returning them.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 22: Website Design: The Consumer's Hierarchy of Needs -->
        <div id="slide-22" class="slide">
            <div class="two-panel-wrapper">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-22.png" alt="Hierarchy of needs for website design">
                </div>
                <div class="text-panel">
                    <h1>Website Design: Hierarchy of Needs</h1>
                    <p>A successful e-commerce site must meet online consumers' needs, which can be categorized into a hierarchy.</p>
                    <ol>
                        <li><strong>Structural Firmness:</strong> The site must be secure, reliable, and perform well. No bad links, fast loading times. This is the foundation.</li>
                        <li><strong>Functional Convenience:</strong> The site must be easy to use. Easy navigation, simple checkout, multiple payment options.</li>
                        <li><strong>Representational Delight:</strong> The site must be aesthetically pleasing. Good layout, high-quality images, and a unique look and feel.</li>
                    </ol>
                    <p class="conclusion">You must have a solid foundation (firmness) before convenience and delight become important.</p>
                </div>
            </div>
        </div>

        <!-- Slide 23: Internet Marketing -->
        <div id="slide-23" class="slide">
            <h1>Internet Marketing: If You Build It, Will They Come?</h1>
            <p>No. Just like an offline business, an online business must be marketed. Companies use a variety of channels to attract visitors.</p>
            <div class="info-card">
                <p>By 2023, companies are forecast to spend <strong>$150 billion</strong> on internet marketing, including search, display ads, email, and social media.</p>
            </div>
            <p>A company's URL is now included on everything from business cards to TV commercials.</p>
        </div>

        <!-- Slide 24: Search Marketing -->
        <div id="slide-24" class="slide">
            <h1>Search Marketing</h1>
            <p>Since many customers start their journey on a search engine, appearing in search results is critical.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Search Engine Optimization (SEO)</h3>
                    <p>Attempting to boost your ranking in the <strong>organic</strong> (non-paid) search results. This involves creating valuable content, using relevant keywords, and keeping the site updated.</p>
                </div>
                <div class="comparison-card">
                    <h3>Paid Search (Sponsored Search)</h3>
                    <p>Bidding to have your company's page appear in the <strong>sponsored</strong> search results for specific terms. This is often done on a pay-per-click basis.</p>
                </div>
            </div>
        </div>

        <!-- Slide 25: Other Internet Marketing Channels -->
        <div id="slide-25" class="slide">
            <h1>Other Key Marketing Channels</h1>
            <ul>
                <li><strong>Display Ads:</strong> Banner ads, video ads, and interactive ads on other websites.</li>
                <li><strong>Email Marketing:</strong> Low-cost, automated campaigns that can be directly measured.</li>
                <li><strong>Social Media Marketing:</strong> Using platforms like Facebook and Twitter for interactive communication and advertising.</li>
                <li><strong>Mobile Marketing:</strong> Highly targeted advertising based on a user's location and behavior on smartphones and tablets.</li>
                <li><strong>Content Marketing:</strong> Attracting an audience by providing valuable content (how-tos, white papers, infographics) to build brand recognition.</li>
            </ul>
        </div>

        <!-- Slide 26: Pricing Models in Internet Marketing -->
        <div id="slide-26" class="slide">
            <h1>Pricing Models in Internet Marketing</h1>
            <p>Unlike traditional advertising, online ad performance can be precisely measured, leading to different pricing models.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Impression-Based (CPM)</h3>
                    <p>The advertiser pays based on the number of times the ad is displayed (Cost Per Mille, or thousand impressions).</p>
                </div>
                <div class="comparison-card">
                    <h3>Performance-Based (Pay-Per-Click)</h3>
                    <p>The advertiser pays only when a user actually clicks on the ad. This is the dominant model for search advertising but is vulnerable to <strong>click fraud</strong>.</p>
                </div>
            </div>
        </div>

        <!-- Slide 27: Knowledge Check 4 -->
        <div id="slide-27" class="slide">
            <h1>Knowledge Check</h1>
            <h2>An advertiser paying Google only when someone clicks on their ad in the search results is using what type of pricing model?</h2>
            <ul>
                <li>A) Impression-based model</li>
                <li>B) Pay-per-click model</li>
                <li>C) Subscription model</li>
                <li>D) Licensing model</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: B</h3>
                    <p>In a pay-per-click (PPC) model, the advertiser is charged a fee each time one of their ads is clicked. This is a performance-based model because they are paying for a direct user action.</p>
                </div>
            </div>
        </div>

        <!-- Slide 28: In-Class Assignment -->
        <div id="slide-28" class="slide">
            <h1>In-Class Assignment (30 Mins)</h1>
            <h2>Launch a Digital Marketing Campaign</h2>
            <p>Imagine you are launching a new online store that sells eco-friendly, customized sneakers.</p>
            <p>Your task is to outline a digital marketing strategy to attract your first 1,000 customers. Specify which channels you will use and why.</p>
            <div class="ai-assist-prompt">
                <p><strong>Use AI to help you brainstorm and structure your plan.</strong></p>
                <p><strong>Example Prompts for ChatGPT/Gemini:</strong></p>
                <ul>
                    <li>"Generate a digital marketing plan for a new e-commerce store selling sustainable sneakers. Focus on social media marketing, content marketing, and paid search. What are some target keywords for Google Ads?"</li>
                    <li>"Give me 5 content marketing ideas for a blog to promote an eco-friendly sneaker brand. The target audience is environmentally conscious millennials."</li>
                    <li>"Create a sample social media post for Instagram to announce the launch of a new customizable, sustainable sneaker brand."</li>
                </ul>
            </div>
            <p>Prepare a 2-slide summary of your marketing plan.</p>
        </div>

        <!-- Slide 29: Mobile and Voice Commerce -->
        <div id="slide-29" class="slide">
            <h1>The Rise of Mobile & Voice Commerce</h1>
            <p>The way we shop is evolving beyond the desktop.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Mobile Commerce (M-Commerce)</h3>
                    <p>Any electronic transaction conducted using a wireless, mobile device. Driven by powerful smartphones, tablets, and high-speed connectivity. M-commerce sales in the US were projected to reach $338 billion in 2020.</p>
                </div>
                <div class="comparison-card">
                    <h3>Voice Commerce</h3>
                    <p>Making purchases using smart voice assistants like Amazon Alexa and Google Home. This is especially popular for frequently purchased items and offers a highly convenient, hands-free shopping experience.</p>
                </div>
            </div>
        </div>

        <!-- Slide 30: M-Commerce: Showrooming -->
        <div id="slide-30" class="slide">
            <div class="two-panel-wrapper">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-30.png" alt="Showrooming concept">
                </div>
                <div class="text-panel">
                    <h1>M-Commerce Challenge: Showrooming</h1>
                    <p>The rise of smartphones has created a challenge for brick-and-mortar retailers.</p>
                    <div class="info-card">
                        <h3>Showrooming</h3>
                        <p>Shoppers coming into a physical store to evaluate the look and feel of a product, only to then purchase it online or at a competitor's store for a lower price.</p>
                    </div>
                    <p>Click-only companies like Amazon benefit from this, while physical retailers must find new ways to compete, such as price-matching or offering superior in-store service.</p>
                </div>
            </div>
        </div>

        <!-- Slide 31: C2C and C2B E-Commerce -->
        <div id="slide-31" class="slide">
            <h1>The Consumer as the Seller: C2C & C2B</h1>
            <p>E-commerce isn't just for businesses. The internet has empowered individuals to become sellers.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>C2C (Consumer-to-Consumer)</h3>
                    <p>Platforms that allow individuals to sell products to other individuals.</p>
                    <ul>
                        <li><strong>E-Auctions:</strong> eBay</li>
                        <li><strong>Handmade/Vintage:</strong> Etsy</li>
                        <li><strong>Ride-Sharing:</strong> Uber, Lyft</li>
                        <li><strong>Accommodations:</strong> Airbnb</li>
                    </ul>
                </div>
                <div class="comparison-card">
                    <h3>C2B (Consumer-to-Business)</h3>
                    <p>Individuals sell goods or services to businesses.</p>
                    <ul>
                        <li><strong>Stock Photos:</strong> Amateurs sell photos on Shutterstock.</li>
                        <li><strong>Crowdsourcing:</strong> People complete small tasks for companies on platforms like Amazon Mechanical Turk.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 32: Knowledge Check 5 -->
        <div id="slide-32" class="slide">
            <h1>Knowledge Check</h1>
            <h2>A photographer selling their pictures through Shutterstock is an example of what type of e-commerce?</h2>
            <ul>
                <li>A) B2C</li>
                <li>B) C2C</li>
                <li>C) B2B</li>
                <li>D) C2B</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: D</h3>
                    <p>Consumer-to-business (C2B) e-commerce involves consumers (the photographer) offering products, labor, or services to companies (the businesses buying the photos).</p>
                </div>
            </div>
        </div>

        <!-- Slide 33: Securing Payments in the Digital World -->
        <div id="slide-33" class="slide">
            <h1>Securing Payments in the Digital World</h1>
            <p>One of the most crucial aspects of e-commerce is ensuring that online transactions are secure. Security concerns are a major reason why shoppers abandon their carts.</p>
            <h2>Key Payment Methods:</h2>
            <ul>
                <li><strong>Credit/Debit Cards:</strong> Still dominant, but carry risks for both consumers and merchants.</li>
                <li><strong>Payment Services:</strong> Services like PayPal, Apple Pay, and Google Wallet act as intermediaries, protecting the customer's financial data from the merchant.</li>
                <li><strong>Cryptocurrencies:</strong> Decentralized virtual currencies like Bitcoin that offer low transaction fees and anonymity.</li>
            </ul>
        </div>

        <!-- Slide 34: How Payment Services Work -->
        <div id="slide-34" class="slide">
            <h1>How Payment Services Add Security</h1>
            <p>Services like PayPal and Apple Pay create a secure layer between the customer and the merchant.</p>
            <div class="mermaid">
                graph LR
                    subgraph Customer
                        C[Credit Card]
                    end
                    subgraph Merchant
                        M[Online Store]
                    end
                    
                    C --1. Link Card Once--> P[Payment Service];
                    P --2. Pay Securely--> M;
                    
                    style C fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                    style M fill:#e0f2fe,stroke:#0ea5e9,stroke-width:1px
                    style P fill:#dbeafe,stroke:#4f46e5,stroke-width:2px
            </div>
            <p class="conclusion">The customer only needs to provide sensitive payment information to the trusted payment service, not to every online store they visit.</p>
        </div>

        <!-- Slide 35: Cryptocurrencies and Blockchain -->
        <div id="slide-35" class="slide">
            <div class="two-panel-wrapper">
                <div class="image-panel">
                    <img src="img-information-system-today-chapter-4/slide-35.png" alt="Blockchain technology concept">
                </div>
                <div class="text-panel">
                    <h1>Cryptocurrencies & Blockchain</h1>
                    <p>Cryptocurrencies like Bitcoin are virtual currencies that are not issued by a central bank. They use encryption to secure transactions.</p>
                    <div class="info-card">
                        <h3>Blockchain</h3>
                        <p>The technology underlying most cryptocurrencies. It is an indelible, decentralized public ledger to which transactions are added in blocks. Because it's distributed across many computers, it is highly resilient against tampering.</p>
                    </div>
                    <p>This technology eliminates the need for a trusted middleman (like a bank), dramatically reducing transaction costs.</p>
                </div>
            </div>
        </div>

        <!-- Slide 36: Managing Risk for Merchants -->
        <div id="slide-36" class="slide">
            <h1>Managing Risk: The Merchant's Perspective</h1>
            <p>For online merchants, the risk of fraudulent transactions (e.g., using stolen credit cards) is high. This can lead to <strong>chargebacks</strong>, where the merchant loses the sale, the merchandise, and pays a fee.</p>
            <h2>Common Fraud Indicators:</h2>
            <ul>
                <li>Email addresses with meaningless characters.</li>
                <li>Shipping and billing addresses don't match.</li>
                <li>Unusually large orders or multiple orders with the same item.</li>
                <li>Orders with overnight shipping (to reduce verification time).</li>
            </ul>
            <p>Merchants use automated fraud-screening services to analyze these variables and assign a risk score to each transaction.</p>
        </div>

        <!-- Slide 37: Legal Issues in E-Commerce -->
        <div id="slide-37" class="slide">
            <h1>Legal Issues in E-Commerce</h1>
            <p>The rapid growth of e-commerce has created complex legal challenges that are still being debated.</p>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h3>Taxation</h3>
                    <p>Should online sales be taxed? If so, by whom? The Internet Tax Freedom Act treats online sales like mail-order, but laws are evolving (e.g., Marketplace Fairness Act).</p>
                </div>
                <div class="comparison-card">
                    <h3>Digital Rights Management (DRM)</h3>
                    <p>Technology that allows publishers to control their digital media to prevent illegal copying. Critics argue it infringes on consumer rights and stifles innovation.</p>
                </div>
                <div class="comparison-card">
                    <h3>Net Neutrality</h3>
                    <p>The principle that all internet data should be treated the same. Without it, providers could block or slow down content from competitors, stifling innovation.</p>
                </div>
            </div>
        </div>

        <!-- Slide 38: Knowledge Check 6 -->
        <div id="slide-38" class="slide">
            <h1>Knowledge Check</h1>
            <h2>The decentralized, public ledger technology that underlies cryptocurrencies like Bitcoin is known as:</h2>
            <ul>
                <li>A) Digital Rights Management (DRM)</li>
                <li>B) Net Neutrality</li>
                <li>C) Blockchain</li>
                <li>D) Pay-per-click</li>
            </ul>
            <button class="reveal-answer-btn">Reveal Answer</button>
            <div class="answer-explanation">
                <div class="info-card">
                    <h3>Correct Answer: C</h3>
                    <p>A blockchain is a distributed and immutable ledger that records transactions in blocks. Its decentralized nature is what provides security and transparency for cryptocurrencies.</p>
                </div>
            </div>
        </div>

        <!-- Slide 39: Key Takeaways -->
        <div id="slide-39" class="slide">
            <h1>Session Recap: Key Takeaways</h1>
            <ul class="summary-list-check">
                <li>E-commerce encompasses B2C, B2B, C2C, and C2B transactions, with B2B being the largest by revenue.</li>
                <li>Companies can be click-only, brick-and-mortar, or click-and-mortar, with omni-channel strategies becoming key.</li>
                <li>E-tailing offers new models like the Long Tail and Mass Customization but faces challenges of trust.</li>
                <li>Successful websites balance structural firmness, functional convenience, and representational delight.</li>
                <li>Internet marketing has diverse channels (SEO, PPC, Social) and measurable pricing models.</li>
                <li>Mobile, voice, C2C, and C2B commerce are rapidly growing segments of the digital economy.</li>
                <li>Securing payments (via services like PayPal or technologies like blockchain) and navigating legal issues (tax, DRM, net neutrality) are critical for EC success.</li>
            </ul>
        </div>

        <!-- Slide 40: Final Slide -->
        <div id="slide-40" class="slide session-title-slide">
            <div class="slide-content-wrapper">
                <h1>Questions?</h1>
                <h2>Open Discussion</h2>
            </div>
        </div>

        <!-- FOOTER AND CONTROLS -->
        <div class="slide-footer">
            <button id="optionsBtn" class="options-button" title="Settings">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 14a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z" />
                </svg>
            </button>
            <div class="footer-controls">
                <button id="prevBtn" class="nav-button">Previous</button>
                <span id="slideCounter" class="slide-counter">Slide 1 / 40</span>
                <button id="nextBtn" class="nav-button">Next</button>
            </div>
            <div style="width: 40px;"></div> 
        </div>

        <!-- SETTINGS DRAWER -->
        <div id="settingsDrawer">
            <div class="drawer-section">
                <h3>Theme</h3>
                <div id="themeSwitcher" class="drawer-buttons-container"></div>
            </div>
            <div class="drawer-section">
                <h3>Export</h3>
                <div class="drawer-buttons-container">
                    <button id="exportPdfBtn" class="drawer-button">Current Slide (PDF)</button>
                    <button id="printAllBtn" class="drawer-button">All Slides (PDF)</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Element References ---
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideCounter = document.getElementById('slideCounter');
            const optionsBtn = document.getElementById('optionsBtn');
            const settingsDrawer = document.getElementById('settingsDrawer');
            const exportPdfBtn = document.getElementById('exportPdfBtn');
            const printAllBtn = document.getElementById('printAllBtn');
            const themeSwitcherContainer = document.getElementById('themeSwitcher');
            const presentationContainer = document.querySelector('.presentation-container');
            const slideFooter = document.querySelector('.slide-footer');

            // --- State Variables ---
            let currentSlideIndex = 0;
            const totalSlides = 40; // *** IMPORTANT: Updated slide count ***
            let footerTimeoutId = null;
            
            // --- Constants ---
            const FOOTER_HIDE_DELAY = 3000;
            const PDF_PAGE_WIDTH_IN = 11;
            const PDF_PAGE_HEIGHT_IN = PDF_PAGE_WIDTH_IN * 9 / 16;

            // --- THEME DATA ---
            const themes = {
                'Leaf Green': {
                    '--bg-grad-start': '#f0fdf4', '--bg-grad-end': '#dcfce7', '--bg-grad-mid-1': '#f0fdf4', '--bg-grad-mid-2': '#dcfce7', '--bg-grad-mid-3': '#bbf7d0',
                    '--text-primary': '#334155', '--header-main': '#166534', '--header-sub': '#15803d', '--border-header': '#86efac',
                    '--nav-button-bg': '#16a34a', '--nav-button-hover-bg': '#15803d', '--info-card-border': '#22c55e', '--conclusion-border': '#22c55e',
                    '--conclusion-text': '#166534', '--process-step-bg': '#f0fdf4', '--process-step-border': '#bbf7d0', '--step-number-bg': '#16a34a',
                    '--inline-code-bg': '#dcfce7', '--inline-code-text': '#14532d', '--layer-box-bg': '#dcfce7', '--layer-box-border': '#86efac',
                    '--flow-arrow-color': '#22c55e', '--scrollbar-thumb': '#4ade80', '--scrollbar-track': '#dcfce7'
                },
                'Original Purple': {
                    '--bg-grad-start': '#f5f3ff', '--bg-grad-end': '#ddd6fe', '--bg-grad-mid-1': '#f5f3ff', '--bg-grad-mid-2': '#ede9fe', '--bg-grad-mid-3': '#ddd6fe',
                    '--text-primary': '#334155', '--header-main': '#4338ca', '--header-sub': '#4f46e5', '--border-header': '#a5b4fc',
                    '--nav-button-bg': '#4f46e5', '--nav-button-hover-bg': '#4338ca', '--info-card-border': '#6366f1', '--conclusion-border': '#6366f1',
                    '--conclusion-text': '#4338ca', '--process-step-bg': '#eef2ff', '--process-step-border': '#c7d2fe', '--step-number-bg': '#4f46e5',
                    '--inline-code-bg': '#eef2ff', '--inline-code-text': '#312e81', '--layer-box-bg': '#e0e7ff', '--layer-box-border': '#c7d2fe',
                    '--flow-arrow-color': '#6366f1', '--scrollbar-thumb': '#a78bfa', '--scrollbar-track': '#ddd6fe'
                },
                'Ocean Blue': {
                    '--bg-grad-start': '#f0f9ff', '--bg-grad-end': '#dbeafe', '--bg-grad-mid-1': '#f0f9ff', '--bg-grad-mid-2': '#e0f2fe', '--bg-grad-mid-3': '#bae6fd',
                    '--text-primary': '#334155', '--header-main': '#0c4a6e', '--header-sub': '#0369a1', '--border-header': '#7dd3fc',
                    '--nav-button-bg': '#0ea5e9', '--nav-button-hover-bg': '#0284c7', '--info-card-border': '#38bdf8', '--conclusion-border': '#38bdf8',
                    '--conclusion-text': '#0c4a6e', '--process-step-bg': '#f0f9ff', '--process-step-border': '#bae6fd', '--step-number-bg': '#0ea5e9',
                    '--inline-code-bg': '#e0f2fe', '--inline-code-text': '#075985', '--layer-box-bg': '#e0f2fe', '--layer-box-border': '#7dd3fc',
                    '--flow-arrow-color': '#38bdf8', '--scrollbar-thumb': '#38bdf8', '--scrollbar-track': '#dbeafe'
                },
                'Slate Gray': {
                    '--bg-grad-start': '#f8fafc', '--bg-grad-end': '#e2e8f0', '--bg-grad-mid-1': '#f8fafc', '--bg-grad-mid-2': '#f1f5f9', '--bg-grad-mid-3': '#e2e8f0',
                    '--text-primary': '#334155', '--header-main': '#1e293b', '--header-sub': '#334155', '--border-header': '#94a3b8',
                    '--nav-button-bg': '#475569', '--nav-button-hover-bg': '#334155', '--info-card-border': '#64748b', '--conclusion-border': '#64748b',
                    '--conclusion-text': '#1e293b', '--process-step-bg': '#f8fafc', '--process-step-border': '#e2e8f0', '--step-number-bg': '#475569',
                    '--inline-code-bg': '#f1f5f9', '--inline-code-text': '#1e293b', '--layer-box-bg': '#f1f5f9', '--layer-box-border': '#cbd5e1',
                    '--flow-arrow-color': '#64748b', '--scrollbar-thumb': '#94a3b8', '--scrollbar-track': '#e2e8f0'
                }
            };

            // --- Core Functions ---
            function applyTheme(themeName) {
                const theme = themes[themeName];
                if (!theme) return;
                for (const [key, value] of Object.entries(theme)) {
                    document.documentElement.style.setProperty(key, value);
                }
                localStorage.setItem('presentationTheme', themeName);
                document.querySelectorAll('.theme-button').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === themeName);
                });
            }

            function populateThemeSwitcher() {
                Object.keys(themes).forEach(themeName => {
                    const button = document.createElement('button');
                    button.className = 'drawer-button theme-button';
                    button.textContent = themeName;
                    button.dataset.theme = themeName;
                    button.style.backgroundColor = themes[themeName]['--nav-button-bg'];
                    button.addEventListener('click', () => applyTheme(themeName));
                    themeSwitcherContainer.appendChild(button);
                });
            }
            
            function initializeMermaidDiagrams() {
                document.querySelectorAll('.mermaid').forEach(el => {
                    el.setAttribute('data-mermaid', el.innerHTML.trim());
                });
            }

            function showSlide(index) {
                if (index < 0 || index >= totalSlides) return;
                slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
                const activeSlide = slides[index];
                if (activeSlide) {
                    activeSlide.scrollTop = 0;
                    setTimeout(() => {
                        if (window.mermaid) {
                          try {
                            activeSlide.querySelectorAll('.mermaid').forEach(el => {
                                const code = el.getAttribute('data-mermaid');
                                if (code) {
                                    el.innerHTML = code;
                                    el.removeAttribute('data-processed');
                                }
                            });
                            mermaid.run({ nodes: activeSlide.querySelectorAll('.mermaid') });
                          } catch (e) {
                            console.error("Mermaid rendering error:", e);
                            activeSlide.querySelectorAll('.mermaid').forEach(el => el.innerHTML = 'Error rendering diagram.');
                          }
                        }
                    }, 50);
                }
                slideCounter.textContent = `Slide ${index + 1} / ${totalSlides}`;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === totalSlides - 1;
                settingsDrawer.classList.remove('active');
                currentSlideIndex = index;
            }

            function nextSlide() { showSlide(currentSlideIndex + 1); }
            function prevSlide() { showSlide(currentSlideIndex - 1); }
            function toggleSettingsDrawer() { settingsDrawer.classList.toggle('active'); }
            
            // --- PDF and Print Functions (FIXED) ---
            function exportCurrentSlideToPdf() {
                const activeSlide = document.querySelector('.slide.active');
                if (!activeSlide) return;

                const drawer = document.getElementById('settingsDrawer');
                const originalStyles = {
                    footerClassList: Array.from(slideFooter.classList), footerInlineDisplay: slideFooter.style.display,
                    drawerDisplay: drawer.style.display, drawerTransform: drawer.style.transform,
                    slideOverflow: activeSlide.style.overflowY, slideHeight: activeSlide.style.height, slideAspectRatio: activeSlide.style.aspectRatio
                };
                
                exportPdfBtn.disabled = true; printAllBtn.disabled = true; exportPdfBtn.textContent = 'Exporting...'; optionsBtn.disabled = true;
                if (footerTimeoutId) { clearTimeout(footerTimeoutId); footerTimeoutId = null; }
                slideFooter.style.display = 'none'; drawer.style.display = 'none'; drawer.classList.remove('active');

                activeSlide.style.overflowY = 'visible'; activeSlide.style.height = 'auto'; activeSlide.style.aspectRatio = 'auto';

                const slideNumber = currentSlideIndex + 1;
                const filename = `IS_Today_Ch4_Slide_${slideNumber}.pdf`;
                const opt = {
                    margin: [0.1, 0.1, 0.1, 0.1],
                    filename: filename,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2.5, useCORS: true, logging: false, scrollY: 0 },
                    jsPDF: { unit: 'in', format: [PDF_PAGE_WIDTH_IN, PDF_PAGE_HEIGHT_IN], orientation: 'landscape' }
                };
                
                html2pdf().set(opt).from(activeSlide).save().catch(err => {
                    console.error('PDF export error:', err);
                }).finally(() => {
                    slideFooter.style.display = originalStyles.footerInlineDisplay;
                    slideFooter.className = '';
                    originalStyles.footerClassList.forEach(cls => slideFooter.classList.add(cls));
                    drawer.style.display = originalStyles.drawerDisplay;
                    drawer.style.transform = originalStyles.drawerTransform;
                    activeSlide.style.overflowY = originalStyles.slideOverflow;
                    activeSlide.style.height = originalStyles.slideHeight;
                    activeSlide.style.aspectRatio = originalStyles.slideAspectRatio;
                    exportPdfBtn.disabled = false;
                    printAllBtn.disabled = false;
                    exportPdfBtn.textContent = 'Current Slide (PDF)';
                    optionsBtn.disabled = false;
                });
            }

            async function triggerPrintAllSlides() {
                settingsDrawer.classList.remove('active');
                if (footerTimeoutId) { clearTimeout(footerTimeoutId); footerTimeoutId = null; }
                slideFooter.classList.remove('show-footer');
                
                if(window.mermaid) {
                    try {
                        await mermaid.run({ nodes: document.querySelectorAll('.mermaid') });
                    } catch(e) {
                        console.error("Mermaid printing error:", e);
                    }
                }
                
                window.print();
            }

            // --- Event Listeners ---
            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);
            optionsBtn.addEventListener('click', toggleSettingsDrawer);
            exportPdfBtn.addEventListener('click', exportCurrentSlideToPdf);
            printAllBtn.addEventListener('click', triggerPrintAllSlides);

            document.querySelectorAll('.reveal-answer-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const explanation = button.nextElementSibling;
                    if (explanation && explanation.classList.contains('answer-explanation')) {
                        explanation.style.display = 'block';
                        button.style.display = 'none';
                    }
                });
            });
            
            // --- Initial Setup ---
            mermaid.initialize({ startOnLoad: false, theme: 'base', themeVariables: {
                'primaryColor': '#f8fafc', 'primaryTextColor': '#334155', 'lineColor': '#475569',
                'textColor': '#334155', 'fontSize': '16px',
            }});
            
            initializeMermaidDiagrams();
            populateThemeSwitcher();
            const savedTheme = localStorage.getItem('presentationTheme') || 'Original Purple';
            applyTheme(savedTheme);
            showSlide(currentSlideIndex);

            // --- Keyboard and Mouse Listeners ---
            document.addEventListener('keydown', (e) => {
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
                if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'PageDown') nextSlide();
                if (e.key === 'ArrowLeft' || e.key === 'PageUp') prevSlide();
                if (e.key === 'Escape') settingsDrawer.classList.remove('active');
            });
            presentationContainer.addEventListener('mousemove', () => {
                 if (footerTimeoutId) clearTimeout(footerTimeoutId);
                 slideFooter.classList.add('show-footer');
                 footerTimeoutId = setTimeout(() => slideFooter.classList.remove('show-footer'), FOOTER_HIDE_DELAY);
            });
            presentationContainer.addEventListener('mouseleave', () => { if (footerTimeoutId) clearTimeout(footerTimeoutId); slideFooter.classList.remove('show-footer'); });
            document.addEventListener('click', (e) => {
                if (settingsDrawer.classList.contains('active') && !settingsDrawer.contains(e.target) && !optionsBtn.contains(e.target)) {
                    settingsDrawer.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
